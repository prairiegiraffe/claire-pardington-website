---
import Layout from '~/layouts/PageLayout.astro';
import { Image } from 'astro:assets';
import heatBecomesHer from '~/assets/images/works-landing/Heat Becomes Her/Top of Page Image.jpg';
import cd01 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/01 2.jpg';
import cd02 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/02 2.jpg';
import cd03 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/03 2.jpg';
import cd04 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/04 2.jpg';
import cd05 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/05 2.jpg';
import cd06 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/06 2.jpg';
import cd07 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/07 2.jpg';
import cd08 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/08 2.jpg';
import cd09 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/09 2.jpg';
import cd10 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/10 2.jpg';
import cd11 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/11 2.jpg';
import cd12 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/12 2.jpg';
import cd13 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/13 2.jpg';
import cd14 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/14 2.jpg';
import cd15 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/15 2.jpg';
import cd16 from '~/assets/images/works-landing/Heat Becomes Her/Creative Direction/16 2.jpg';
import d1a from '~/assets/images/works-landing/Heat Becomes Her/Design/1A.jpg';
import d2a from '~/assets/images/works-landing/Heat Becomes Her/Design/2A.jpg';
import d3a from '~/assets/images/works-landing/Heat Becomes Her/Design/3A.jpg';
import d3b from '~/assets/images/works-landing/Heat Becomes Her/Design/3B.jpg';
import d4a from '~/assets/images/works-landing/Heat Becomes Her/Design/4A.jpg';
import d5a from '~/assets/images/works-landing/Heat Becomes Her/Design/5A.jpg';
import d6a from '~/assets/images/works-landing/Heat Becomes Her/Design/6A.jpg';

const metadata = {
  title: 'Heat Becomes Her - Claire Pardington',
};

const creativeDirectionImages = [cd01, cd02, cd03, cd04, cd05, cd06, cd07, cd08, cd09, cd10, cd11, cd12, cd13, cd14, cd15, cd16];
const designImages = [d1a, d2a, d3a, d3b, d4a, d5a, d6a];
---

<Layout metadata={metadata}>
  <!-- Back to Works Button -->
  <div class="container mx-auto px-4 py-8">
    <a href="/works" class="inline-flex items-center gap-2 text-black hover:opacity-70 transition-opacity uppercase tracking-wide text-sm">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
      Back to Works
    </a>
  </div>

  <!-- Content Section -->
  <div class="container mx-auto px-4 py-12">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center">
      <!-- Image Column -->
      <div class="flex justify-center">
        <div class="w-full max-w-[500px]">
          <Image
            src={heatBecomesHer}
            alt="Heat Becomes Her"
            class="w-full h-auto"
          />
        </div>
      </div>

      <!-- Text Column -->
      <div class="space-y-6 max-w-[500px]">
        <h1 class="text-3xl md:text-4xl uppercase tracking-wide text-center" style="font-weight: 200;">Heat Becomes Her</h1>

        <div class="space-y-4 text-base leading-relaxed">
          <p>Heat Becomes Her is a study of tension — the unbearable weight of summer heat and the crystalline relief of coolness. The collection transforms sweat, condensation, and shimmer into ornament, reimagining discomfort as beauty.</p>

          <p>Sheer layers and liquid fabrics echo the body's vulnerability under heat, while pearl-like embellishments and sequined nets crystallize sweat into jewels. Structures are light but deliberate — slits, cutouts, and translucency invite air, while sculpted silhouettes mirror the geometry of ice against the skin.</p>

          <p>This collection embodies a woman who doesn't wilt in the heat but wears it like couture. Heat doesn't undo her — it becomes her.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Creative Direction Section -->
  <div class="w-full py-16 overflow-hidden">
    <h2 class="text-2xl md:text-3xl uppercase tracking-wide text-center mb-8" style="font-weight: 200;">Creative Direction</h2>

    <!-- Scrollable Image Container -->
    <div class="overflow-x-auto overflow-y-hidden scrollbar-hide -mx-4 image-gallery-scroll" style="touch-action: pan-x; cursor: grab; -webkit-overflow-scrolling: touch;">
      <div class="flex gap-4" style="width: max-content; padding-left: 1.25rem; padding-right: 1.25rem;">
        {creativeDirectionImages.map((img, index) => (
          <div
            class="flex-shrink-0 gallery-item"
            data-lightbox={`lightbox-${index}`}
            style="height: 400px; cursor: grab;"
          >
            <img
              src={img.src}
              alt={`Creative Direction ${index + 1}`}
              style="height: 400px; width: auto; object-fit: cover; pointer-events: none; user-select: none;"
            />
          </div>
        ))}
      </div>
    </div>

    <p class="text-center text-sm uppercase tracking-wide mt-6">[Swipe to View Portfolio]</p>
  </div>

  <!-- Design Section -->
  <div class="w-full py-16 overflow-hidden">
    <h2 class="text-2xl md:text-3xl uppercase tracking-wide text-center mb-8" style="font-weight: 200;">Design</h2>

    <!-- Scrollable Image Container -->
    <div class="overflow-x-auto overflow-y-hidden scrollbar-hide -mx-4 image-gallery-scroll-design" style="touch-action: pan-x; cursor: grab; -webkit-overflow-scrolling: touch;">
      <div class="flex gap-4" style="width: max-content; padding-left: 1.25rem; padding-right: 1.25rem;">
        {designImages.map((img, index) => (
          <div
            class="flex-shrink-0 gallery-item-design"
            data-lightbox={`lightbox-design-${index}`}
            style="height: 400px; cursor: grab;"
          >
            <img
              src={img.src}
              alt={`Design ${index + 1}`}
              style="height: 400px; width: auto; object-fit: cover; pointer-events: none; user-select: none;"
            />
          </div>
        ))}
      </div>
    </div>

    <p class="text-center text-sm uppercase tracking-wide mt-6">[Swipe to View Portfolio]</p>
  </div>

  <!-- Lightbox Modals - Creative Direction -->
  {creativeDirectionImages.map((img, index) => (
    <div
      id={`lightbox-${index}`}
      class="hidden fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4"
      onclick={`document.getElementById('lightbox-${index}').classList.add('hidden')`}
    >
      <img
        src={img.src}
        alt={`Creative Direction ${index + 1}`}
        style="max-height: 80vh; max-width: 100%; width: auto; height: auto; object-fit: contain;"
      />
    </div>
  ))}

  <!-- Lightbox Modals - Design -->
  {designImages.map((img, index) => (
    <div
      id={`lightbox-design-${index}`}
      class="hidden fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4"
      onclick={`document.getElementById('lightbox-design-${index}').classList.add('hidden')`}
    >
      <img
        src={img.src}
        alt={`Design ${index + 1}`}
        style="max-height: 80vh; max-width: 100%; width: auto; height: auto; object-fit: contain;"
      />
    </div>
  ))}
</Layout>

<style>
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const slider = document.querySelector('.image-gallery-scroll') as HTMLElement | null;
    if (!slider) return;

    let isDown = false;
    let startX: number = 0;
    let scrollLeft: number = 0;
    let hasMoved = false;

    slider.addEventListener('mousedown', (e: MouseEvent) => {
      isDown = true;
      hasMoved = false;
      slider.style.cursor = 'grabbing';
      startX = e.pageX - slider.offsetLeft;
      scrollLeft = slider.scrollLeft;
    });

    slider.addEventListener('mouseleave', () => {
      isDown = false;
      slider.style.cursor = 'grab';
    });

    slider.addEventListener('mouseup', (e: MouseEvent) => {
      isDown = false;
      slider.style.cursor = 'grab';

      // Only open lightbox if we didn't drag
      if (!hasMoved && e.target) {
        const item = (e.target as HTMLElement).closest('.gallery-item') as HTMLElement | null;
        if (item && item.dataset.lightbox) {
          const lightboxId = item.dataset.lightbox;
          const lightbox = document.getElementById(lightboxId);
          if (lightbox) {
            lightbox.classList.remove('hidden');
          }
        }
      }

      hasMoved = false;
    });

    slider.addEventListener('mousemove', (e: MouseEvent) => {
      if (!isDown) return;
      e.preventDefault();
      hasMoved = true;
      const x = e.pageX - slider.offsetLeft;
      const walk = (x - startX) * 2;
      slider.scrollLeft = scrollLeft - walk;
    });

    // Click handler for gallery items
    document.querySelectorAll('.gallery-item').forEach((item) => {
      item.addEventListener('click', () => {
        if (!hasMoved) {
          const lightboxId = (item as HTMLElement).dataset.lightbox;
          if (lightboxId) {
            const lightbox = document.getElementById(lightboxId);
            if (lightbox) {
              lightbox.classList.remove('hidden');
            }
          }
        }
      });
    });

    // Design gallery
    const sliderDesign = document.querySelector('.image-gallery-scroll-design') as HTMLElement | null;
    if (!sliderDesign) return;

    let isDownDesign = false;
    let hasMovedDesign = false;
    let startXDesign: number = 0;
    let scrollLeftDesign: number = 0;

    sliderDesign.addEventListener('mousedown', (e: MouseEvent) => {
      isDownDesign = true;
      hasMovedDesign = false;
      sliderDesign.style.cursor = 'grabbing';
      startXDesign = e.pageX - sliderDesign.offsetLeft;
      scrollLeftDesign = sliderDesign.scrollLeft;
    });

    sliderDesign.addEventListener('mouseleave', () => {
      isDownDesign = false;
      sliderDesign.style.cursor = 'grab';
    });

    sliderDesign.addEventListener('mouseup', (e: MouseEvent) => {
      isDownDesign = false;
      sliderDesign.style.cursor = 'grab';

      if (!hasMovedDesign && e.target) {
        const item = (e.target as HTMLElement).closest('.gallery-item-design') as HTMLElement | null;
        if (item && item.dataset.lightbox) {
          const lightboxId = item.dataset.lightbox;
          const lightbox = document.getElementById(lightboxId);
          if (lightbox) {
            lightbox.classList.remove('hidden');
          }
        }
      }

      hasMovedDesign = false;
    });

    sliderDesign.addEventListener('mousemove', (e: MouseEvent) => {
      if (!isDownDesign) return;
      e.preventDefault();
      hasMovedDesign = true;
      const x = e.pageX - sliderDesign.offsetLeft;
      const walk = (x - startXDesign) * 2;
      sliderDesign.scrollLeft = scrollLeftDesign - walk;
    });

    document.querySelectorAll('.gallery-item-design').forEach((item) => {
      item.addEventListener('click', () => {
        if (!hasMovedDesign) {
          const lightboxId = (item as HTMLElement).dataset.lightbox;
          if (lightboxId) {
            const lightbox = document.getElementById(lightboxId);
            if (lightbox) {
              lightbox.classList.remove('hidden');
            }
          }
        }
      });
    });
  });
</script>
