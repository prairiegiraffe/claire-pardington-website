---
import Layout from '~/layouts/PageLayout.astro';
import { Image } from 'astro:assets';
import topImage from '~/assets/images/Pardington Collective/Top Image.jpg';
import j01 from '~/assets/images/Pardington Collective/Journal/01.jpg';
import j02 from '~/assets/images/Pardington Collective/Journal/02.jpg';
import j03 from '~/assets/images/Pardington Collective/Journal/03.jpg';
import j04 from '~/assets/images/Pardington Collective/Journal/04.jpg';
import j05 from '~/assets/images/Pardington Collective/Journal/05.jpg';
import j06 from '~/assets/images/Pardington Collective/Journal/06.jpg';
import j07 from '~/assets/images/Pardington Collective/Journal/07.jpg';
import j08 from '~/assets/images/Pardington Collective/Journal/08.jpg';
import j09 from '~/assets/images/Pardington Collective/Journal/09.jpg';
import j10 from '~/assets/images/Pardington Collective/Journal/10.jpg';
import j11 from '~/assets/images/Pardington Collective/Journal/11.jpg';
import j12 from '~/assets/images/Pardington Collective/Journal/12.jpg';
import j13 from '~/assets/images/Pardington Collective/Journal/13.jpg';
import j14 from '~/assets/images/Pardington Collective/Journal/14.jpg';
import j15 from '~/assets/images/Pardington Collective/Journal/15.jpg';
import j16 from '~/assets/images/Pardington Collective/Journal/16.jpg';
import j17 from '~/assets/images/Pardington Collective/Journal/17.jpg';
import j18 from '~/assets/images/Pardington Collective/Journal/18.jpg';
import j19 from '~/assets/images/Pardington Collective/Journal/19 2.jpg';
import j20 from '~/assets/images/Pardington Collective/Journal/20 2.jpg';
import j21 from '~/assets/images/Pardington Collective/Journal/21 2.jpg';
import j22 from '~/assets/images/Pardington Collective/Journal/22 2.jpg';
import j23 from '~/assets/images/Pardington Collective/Journal/23 2.jpg';
import j24 from '~/assets/images/Pardington Collective/Journal/24.jpg';
import j25 from '~/assets/images/Pardington Collective/Journal/25.jpg';
import j26 from '~/assets/images/Pardington Collective/Journal/26.jpg';
import c01 from '~/assets/images/Pardington Collective/Collaboration/01.jpg';
import c02 from '~/assets/images/Pardington Collective/Collaboration/02.jpg';
import c03 from '~/assets/images/Pardington Collective/Collaboration/03.jpg';
import c04 from '~/assets/images/Pardington Collective/Collaboration/04.jpg';
import c05 from '~/assets/images/Pardington Collective/Collaboration/05.jpg';
import c06 from '~/assets/images/Pardington Collective/Collaboration/06.jpg';
import c07 from '~/assets/images/Pardington Collective/Collaboration/07.jpeg';
import c08 from '~/assets/images/Pardington Collective/Collaboration/08.jpeg';
import c09 from '~/assets/images/Pardington Collective/Collaboration/09.jpeg';
import c10 from '~/assets/images/Pardington Collective/Collaboration/10.jpg';
import c11 from '~/assets/images/Pardington Collective/Collaboration/11.jpg';
import c12 from '~/assets/images/Pardington Collective/Collaboration/12.jpeg';
import c13 from '~/assets/images/Pardington Collective/Collaboration/13.jpg';

const metadata = {
  title: 'Pardington Collective - Claire Pardington',
};

const journalImages = [
  j01,
  j02,
  j03,
  j04,
  j05,
  j06,
  j07,
  j08,
  j09,
  j10,
  j11,
  j12,
  j13,
  j14,
  j15,
  j16,
  j17,
  j18,
  j19,
  j20,
  j21,
  j22,
  j23,
  j24,
  j25,
  j26,
];
const collaborationImages = [c01, c02, c03, c04, c05, c06, c07, c08, c09, c10, c11, c12, c13];
---

<Layout metadata={metadata}>
  <!-- Back to Works Button -->
  <div class="container mx-auto px-4 py-8">
    <a
      href="/works"
      class="inline-flex items-center gap-2 text-black hover:opacity-70 transition-opacity uppercase tracking-wide text-sm"
    >
      <svg
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M19 12H5M12 19l-7-7 7-7"></path>
      </svg>
      Back to Works
    </a>
  </div>

  <!-- Headline -->
  <div class="px-4 py-12">
    <h1 class="text-3xl md:text-4xl uppercase tracking-wide text-center mb-12" style="font-weight: 200;">
      Pardington Collective
    </h1>

    <!-- Top Image -->
    <div class="w-full">
      <Image src={topImage} alt="Pardington Collective" class="w-full h-auto" />
    </div>

    <!-- Description Text -->
    <div class="container mx-auto max-w-[1200px] mt-12 mb-8 text-center px-4">
      <p class="text-base leading-relaxed">
        Pardington Collective emerged from Claire Pardington's belief that clothing should transcend trends - designed
        with a precision fit, timeless sensibility, and the power to make the wearer feel extraordinary. Built on
        collaboration, the brand brought together artists from fashion, art, and beyond to blur boundaries and expand
        possibility. More than a label, Pardington Collective remains a living dialogue between style, creativity, and
        culture.
      </p>
    </div>

    <!-- Visit Website Button -->
    <div class="flex justify-center mb-12">
      <a
        href="https://www.pardingtoncollective.com"
        target="_blank"
        rel="noopener noreferrer"
        class="bg-black text-white px-8 py-3 uppercase tracking-wide text-sm hover:opacity-80 transition-opacity"
      >
        Visit the Website
      </a>
    </div>
  </div>

  <!-- Journal Gallery Section -->
  <div class="w-full pb-16 overflow-hidden">
    <!-- Scrollable Image Container -->
    <div
      class="overflow-x-auto overflow-y-hidden scrollbar-hide -mx-4 image-gallery-scroll"
      style="touch-action: pan-x; cursor: grab; -webkit-overflow-scrolling: touch;"
    >
      <div class="flex gap-4" style="width: max-content; padding-left: 1.25rem; padding-right: 1.25rem;">
        {
          journalImages.map((img, index) => (
            <div
              class="flex-shrink-0 gallery-item"
              data-lightbox={`lightbox-${index}`}
              style="height: 400px; cursor: grab;"
            >
              <img
                src={img.src}
                alt={`Journal ${index + 1}`}
                style="height: 400px; width: auto; object-fit: cover; pointer-events: none; user-select: none;"
              />
            </div>
          ))
        }
      </div>
    </div>

    <p class="text-center text-sm uppercase tracking-wide mt-6">[Swipe to View Portfolio]</p>
  </div>

  <!-- Collaboration Section -->
  <div class="container mx-auto px-4 py-16">
    <h2 class="text-3xl md:text-4xl uppercase tracking-wide text-center mb-12" style="font-weight: 200;">
      Collaboration
    </h2>

    <!-- Video -->
    <div class="flex justify-center mb-12">
      <div class="w-full max-w-[1200px]" style="position: relative; padding-bottom: 56.25%; height: 0;">
        <iframe
          style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
          src="https://www.youtube.com/embed/FdgLzLCOzLU?si=LTWMRxahNWjvRoQI"
          title="YouTube video player"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          referrerpolicy="strict-origin-when-cross-origin"
          allowfullscreen></iframe>
      </div>
    </div>

    <!-- Description Text -->
    <div class="max-w-[1200px] mx-auto text-center space-y-4 text-base leading-relaxed">
      <p>
        From the beginning, Pardington Collective was imagined as a space where fashion and art could meet. That vision
        took shape in the debut collaboration with artist Kayo Shido, whose emotionally expressive paintings are layered
        with color, depth, and movement. Claire first discovered Kayo's work on the Bowery in New York City, drawn
        instantly to its raw beauty and complexity.
      </p>
      <p>
        Together, they transformed one of Kayo's original pieces into a custom lining for the brand's classic women's
        blazer, while also offering the artwork itself for sale. This partnership set the tone for what Pardington
        Collective was always meant to be — a dialogue between artists and disciplines, creating pieces that carry both
        style and soul.
      </p>
    </div>
  </div>

  <!-- Collaboration Gallery Section -->
  <div class="w-full pb-16 overflow-hidden">
    <!-- Scrollable Image Container -->
    <div
      class="overflow-x-auto overflow-y-hidden scrollbar-hide -mx-4 image-gallery-scroll-collab"
      style="touch-action: pan-x; cursor: grab; -webkit-overflow-scrolling: touch;"
    >
      <div class="flex gap-4" style="width: max-content; padding-left: 1.25rem; padding-right: 1.25rem;">
        {
          collaborationImages.map((img, index) => (
            <div
              class="flex-shrink-0 gallery-item-collab"
              data-lightbox={`lightbox-collab-${index}`}
              style="height: 400px; cursor: grab;"
            >
              <img
                src={img.src}
                alt={`Collaboration ${index + 1}`}
                style="height: 400px; width: auto; object-fit: cover; pointer-events: none; user-select: none;"
              />
            </div>
          ))
        }
      </div>
    </div>

    <p class="text-center text-sm uppercase tracking-wide mt-6">[Swipe to View Portfolio]</p>
  </div>

  <!-- Behind the Scenes Section -->
  <div class="container mx-auto px-4 py-16">
    <h2 class="text-3xl md:text-4xl uppercase tracking-wide text-center mb-12" style="font-weight: 200;">
      Behind the Scenes
    </h2>

    <!-- YouTube Video Thumbnails -->
    <div style="display: flex; justify-content: center; gap: 24px; align-items: flex-start;">
      <img
        src="https://img.youtube.com/vi/G02rbKOCVgc/hqdefault.jpg"
        alt="Fitting Video"
        data-video-id="G02rbKOCVgc"
        class="youtube-thumbnail"
        style="max-height: 500px; cursor: pointer;"
      />
      <img
        src="https://img.youtube.com/vi/4KWYSs1zIWo/hqdefault.jpg"
        alt="Storytelling Video"
        data-video-id="4KWYSs1zIWo"
        class="youtube-thumbnail"
        style="max-height: 500px; cursor: pointer;"
      />
      <img
        src="https://img.youtube.com/vi/c9Dg8dwK0f4/hqdefault.jpg"
        alt="Pattern Video"
        data-video-id="c9Dg8dwK0f4"
        class="youtube-thumbnail"
        style="max-height: 500px; cursor: pointer;"
      />
    </div>
  </div>

  <!-- YouTube Video Lightbox -->
  <div
    id="video-lightbox"
    class="hidden fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4"
  >
    <div class="relative w-full max-w-5xl">
      <button
        onclick="document.getElementById('video-lightbox').classList.add('hidden'); document.getElementById('youtube-player').src = '';"
        class="absolute -top-12 right-0 text-white text-4xl hover:opacity-70 transition-opacity"
      >
        ×
      </button>
      <div class="relative" style="padding-bottom: 56.25%; height: 0;">
        <iframe
          id="youtube-player"
          class="absolute top-0 left-0 w-full h-full"
          src=""
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe>
      </div>
    </div>
  </div>

  <!-- Lightbox Modals - Collaboration -->
  {
    collaborationImages.map((img, index) => (
      <div
        id={`lightbox-collab-${index}`}
        class="hidden fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4"
        onclick={`document.getElementById('lightbox-collab-${index}').classList.add('hidden')`}
      >
        <img
          src={img.src}
          alt={`Collaboration ${index + 1}`}
          style="max-height: 80vh; max-width: 100%; width: auto; height: auto; object-fit: contain;"
        />
      </div>
    ))
  }

  <!-- Lightbox Modals -->
  {
    journalImages.map((img, index) => (
      <div
        id={`lightbox-${index}`}
        class="hidden fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4"
        onclick={`document.getElementById('lightbox-${index}').classList.add('hidden')`}
      >
        <img
          src={img.src}
          alt={`Journal ${index + 1}`}
          style="max-height: 80vh; max-width: 100%; width: auto; height: auto; object-fit: contain;"
        />
      </div>
    ))
  }
</Layout>

<style>
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const slider = document.querySelector('.image-gallery-scroll') as HTMLElement | null;
    if (!slider) return;

    let isDown = false;
    let startX: number = 0;
    let scrollLeft: number = 0;
    let hasMoved = false;

    slider.addEventListener('mousedown', (e: MouseEvent) => {
      isDown = true;
      hasMoved = false;
      slider.style.cursor = 'grabbing';
      startX = e.pageX - slider.offsetLeft;
      scrollLeft = slider.scrollLeft;
    });

    slider.addEventListener('mouseleave', () => {
      isDown = false;
      slider.style.cursor = 'grab';
    });

    slider.addEventListener('mouseup', (e: MouseEvent) => {
      isDown = false;
      slider.style.cursor = 'grab';

      // Only open lightbox if we didn't drag
      if (!hasMoved && e.target) {
        const item = (e.target as HTMLElement).closest('.gallery-item') as HTMLElement | null;
        if (item && item.dataset.lightbox) {
          const lightboxId = item.dataset.lightbox;
          const lightbox = document.getElementById(lightboxId);
          if (lightbox) {
            lightbox.classList.remove('hidden');
          }
        }
      }

      hasMoved = false;
    });

    slider.addEventListener('mousemove', (e: MouseEvent) => {
      if (!isDown) return;
      e.preventDefault();
      hasMoved = true;
      const x = e.pageX - slider.offsetLeft;
      const walk = (x - startX) * 2;
      slider.scrollLeft = scrollLeft - walk;
    });

    // Click handler for gallery items
    document.querySelectorAll('.gallery-item').forEach((item) => {
      item.addEventListener('click', () => {
        if (!hasMoved) {
          const lightboxId = (item as HTMLElement).dataset.lightbox;
          if (lightboxId) {
            const lightbox = document.getElementById(lightboxId);
            if (lightbox) {
              lightbox.classList.remove('hidden');
            }
          }
        }
      });
    });

    // Collaboration gallery
    const sliderCollab = document.querySelector('.image-gallery-scroll-collab') as HTMLElement | null;
    if (!sliderCollab) return;

    let isDownCollab = false;
    let hasMovedCollab = false;
    let startXCollab: number = 0;
    let scrollLeftCollab: number = 0;

    sliderCollab.addEventListener('mousedown', (e: MouseEvent) => {
      isDownCollab = true;
      hasMovedCollab = false;
      sliderCollab.style.cursor = 'grabbing';
      startXCollab = e.pageX - sliderCollab.offsetLeft;
      scrollLeftCollab = sliderCollab.scrollLeft;
    });

    sliderCollab.addEventListener('mouseleave', () => {
      isDownCollab = false;
      sliderCollab.style.cursor = 'grab';
    });

    sliderCollab.addEventListener('mouseup', (e: MouseEvent) => {
      isDownCollab = false;
      sliderCollab.style.cursor = 'grab';

      if (!hasMovedCollab && e.target) {
        const item = (e.target as HTMLElement).closest('.gallery-item-collab') as HTMLElement | null;
        if (item && item.dataset.lightbox) {
          const lightboxId = item.dataset.lightbox;
          const lightbox = document.getElementById(lightboxId);
          if (lightbox) {
            lightbox.classList.remove('hidden');
          }
        }
      }

      hasMovedCollab = false;
    });

    sliderCollab.addEventListener('mousemove', (e: MouseEvent) => {
      if (!isDownCollab) return;
      e.preventDefault();
      hasMovedCollab = true;
      const x = e.pageX - sliderCollab.offsetLeft;
      const walk = (x - startXCollab) * 2;
      sliderCollab.scrollLeft = scrollLeftCollab - walk;
    });

    document.querySelectorAll('.gallery-item-collab').forEach((item) => {
      item.addEventListener('click', () => {
        if (!hasMovedCollab) {
          const lightboxId = (item as HTMLElement).dataset.lightbox;
          if (lightboxId) {
            const lightbox = document.getElementById(lightboxId);
            if (lightbox) {
              lightbox.classList.remove('hidden');
            }
          }
        }
      });
    });

    // YouTube video thumbnails
    document.querySelectorAll('.youtube-thumbnail').forEach((thumbnail) => {
      thumbnail.addEventListener('click', () => {
        const videoId = (thumbnail as HTMLElement).dataset.videoId;
        if (!videoId) return;

        const lightbox = document.getElementById('video-lightbox');
        const iframe = document.getElementById('youtube-player') as HTMLIFrameElement | null;

        if (iframe && lightbox) {
          iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
          lightbox.classList.remove('hidden');
        }
      });
    });

    // Close lightbox when clicking outside the video
    const videoLightbox = document.getElementById('video-lightbox');
    if (videoLightbox) {
      videoLightbox.addEventListener('click', (e: MouseEvent) => {
        if ((e.target as HTMLElement).id === 'video-lightbox') {
          const lightbox = document.getElementById('video-lightbox');
          const iframe = document.getElementById('youtube-player') as HTMLIFrameElement | null;
          if (lightbox && iframe) {
            lightbox.classList.add('hidden');
            iframe.src = '';
          }
        }
      });
    }
  });
</script>
